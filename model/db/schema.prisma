datasource db {
  provider = "sqlite"
  url      = "file:database.db"
}

generator client {
  provider = "prisma-client-py"
}

model ContasTipo {
  id        Int      @id @default(autoincrement())
  descricao String   @unique
  Contas    Contas[]
}

model Contas {
  id          Int           @id @default(autoincrement())
  descricao   String
  numero      String
  moeda       String
  Tipo        ContasTipo    @relation(fields: [tipo_id], references: [id])
  tipo_id     Int
  Lancamentos Lancamentos[]
}

model Lancamentos {
  id            Int          @id @default(autoincrement())
  Conta         Contas       @relation(fields: [conta_id], references: [id])
  conta_id      Int
  nr_referencia String
  descricao     String
  data          DateTime
  valor         Int
  Categoria     Categorias[]
  Anexos        Anexos[]
}

model Categorias {
  id           Int           @id @default(autoincrement())
  nm_categoria String        @unique
  Lancamentos  Lancamentos[]
}

model Anexos {
  id            Int         @id @default(autoincrement())
  Lancamento    Lancamentos @relation(fields: [lancamento_id], references: [id])
  lancamento_id Int
  descricao     String
  caminho       String
}
